# Graphiti MCP Server Environment Configuration

# Neo4j Database Configuration
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=password123

# Database Provider Configuration
DATABASE__PROVIDER=neo4j
DATABASE__PROVIDERS__NEO4J__URI=bolt://localhost:20687
DATABASE__PROVIDERS__NEO4J__USERNAME=neo4j
DATABASE__PROVIDERS__NEO4J__PASSWORD=password123

# LLM Provider Configuration (using corporate OpenAI proxy with gpt-4o)
# Note: Using cc-throttle proxy to avoid 429 rate limit errors
LLM__PROVIDER=openai
LLM__MODEL=gpt-4o
LLM__MAX_TOKENS=4096
LLM__TEMPERATURE=0.7
LLM__PROVIDERS__OPENAI__API_KEY=your-api-key-here
LLM__PROVIDERS__OPENAI__API_URL=http://host.docker.internal:8080/v1

# OpenAI Client Timeout Configuration
# cc-throttle queues requests at 1req/s, so we need a long timeout
# Set to 600 seconds (10 minutes) to handle large queues
OPENAI_TIMEOUT=600

# Embedder Provider Configuration (using LM Studio)
EMBEDDER__PROVIDER=openai
EMBEDDER__MODEL=text-embedding-bge-reranker-v2-m3
EMBEDDER__PROVIDERS__OPENAI__API_KEY=dummy-key
EMBEDDER__PROVIDERS__OPENAI__API_URL=http://host.docker.internal:1234/v1

# Server Configuration
SERVER__PORT=8001

# Search Bot Backend Configuration
BACKEND_PORT=20001
CORS_ORIGINS=http://localhost:20002,http://host.docker.internal:8080,http://localhost:5173
OPENAI_API_KEY=your-api-key-here
OPENAI_BASE_URL=http://host.docker.internal:8080/v1
OPENAI_MODEL=gpt-4o

# GitHub Configuration
GITHUB_TOKEN=ghp_your-github-token-here
GITHUB_OWNER=your-github-username
GITHUB_REPO=your-repo-name

# Rate Limit Configuration
# Using cc-throttle proxy, so no need for manual delay
# cc-throttle automatically limits to 1req/s
# EPISODE_PROCESSING_DELAY=0

# Corporate Proxy Configuration
# Set to FALSE since we use base_url directly
PROXY_USE=FALSE
NO_PROXY=localhost,127.0.0.1,slack.com

# ============================================================================
# Additional Configuration (added during refactoring)
# ============================================================================

# MCP Server URL Configuration
MCP_URL=http://localhost:8001/mcp/

# MinIO Configuration (for Zoom transcripts storage)
MINIO_ENDPOINT=localhost:20734
MINIO_PUBLIC_ENDPOINT=localhost:20734
MINIO_ACCESS_KEY=minio
MINIO_SECRET_KEY=miniosecret
MINIO_BUCKET_NAME=zoom-transcripts

# Translation Configuration
TRANSLATION_TEMPERATURE=0.3
TRANSLATION_MODEL=gpt-4o-mini
ASCII_DETECTION_THRESHOLD=0.7

# Text Truncation Limits (characters)
MAX_CHARS_TITLE=500
MAX_CHARS_BODY=5000
MAX_CHARS_COMMENT=2000
MAX_CHARS_SLACK=1000
MAX_CHARS_ZOOM=500
MAX_CHARS_DEFAULT=10000

# Episode Processing Configuration
EPISODE_PROCESSING_DELAY=20
MAX_RETRY_COUNT=5

# HTTP Timeout Configuration (seconds)
HTTP_TIMEOUT=120.0
